/*! Idle Timer - v0.9.2 - 2013-01-06
* https://github.com/mikesherov/jquery-idletimer
* Copyright (c) 2013 Paul Irish; Licensed MIT */(function(e){e.idleTimer=function(t,n,r){r=e.extend({startImmediately:!0,idle:!1,enabled:!0,timeout:3e4,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},r);n=n||document;var i=e(n),s=i.data("idleTimerObj")||{},o=function(t){typeof t=="number"&&(t=undefined);var i=e.data(t||n,"idleTimerObj");i.idle=!i.idle;var s=+(new Date)-i.olddate;i.olddate=+(new Date);if(i.idle&&s<r.timeout){i.idle=!1;clearTimeout(e.idleTimer.tId);r.enabled&&(e.idleTimer.tId=setTimeout(o,r.timeout));return}var u=e.Event(e.data(n,"idleTimer",i.idle?"idle":"active")+".idleTimer");e(n).trigger(u)},u=function(e){var t=e.data("idleTimerObj")||{};t.enabled=!1;clearTimeout(t.tId);e.off(".idleTimer")};s.olddate=s.olddate||+(new Date);if(typeof t=="number")r.timeout=t;else{if(t==="destroy"){u(i);return this}if(t==="getElapsedTime")return+(new Date)-s.olddate}i.on(e.trim((r.events+" ").split(" ").join(".idleTimer ")),function(){var t=e.data(this,"idleTimerObj");if(event.type!=="mousemove"||event.pageX!=t.pageX||event.pageY!=t.pageY){t.pageX=event.pageX;t.pageY=event.pageY;clearTimeout(t.tId);if(t.enabled){t.idle&&o(this);t.tId=setTimeout(o,t.timeout)}}});s.idle=r.idle;s.enabled=r.enabled;s.timeout=r.timeout;r.startImmediately&&(s.tId=setTimeout(o,s.timeout));i.data("idleTimer","active");i.data("idleTimerObj",s)};e.fn.idleTimer=function(t,n){n||(n={});this[0]&&e.idleTimer(t,this[0],n);return this}})(jQuery);